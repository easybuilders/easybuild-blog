
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../../03/28/eum25/">
      
      
      
      <link rel="icon" href="../../../../img/logos/EasyBuild.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>EasyBuild v5.1.0 - EasyBuild blog</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#easybuild-v510" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="EasyBuild blog" class="md-header__button md-logo" aria-label="EasyBuild blog" data-md-component="logo">
      
  <img src="../../../../img/logos/EasyBuild.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EasyBuild blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              EasyBuild v5.1.0
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="EasyBuild blog" class="md-nav__button md-logo" aria-label="EasyBuild blog" data-md-component="logo">
      
  <img src="../../../../img/logos/EasyBuild.png" alt="logo">

    </a>
    EasyBuild blog
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#build-summary" class="md-nav__link">
    <span class="md-ellipsis">
      Build summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cuda-sanity-check" class="md-nav__link">
    <span class="md-ellipsis">
      CUDA sanity check
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-installations" class="md-nav__link">
    <span class="md-ellipsis">
      Data installations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#downloading-pull-request-diff-via-github-api" class="md-nav__link">
    <span class="md-ellipsis">
      Downloading pull request diff via GitHub API
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleaner-output-for-sanity-check" class="md-nav__link">
    <span class="md-ellipsis">
      Cleaner output for sanity check
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2025a-common-toolchains" class="md-nav__link">
    <span class="md-ellipsis">
      2025a common toolchains
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notable-bug-fixes" class="md-nav__link">
    <span class="md-ellipsis">
      Notable bug fixes
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content md-content--post" data-md-component="content">
    <div class="md-sidebar md-sidebar--post" data-md-component="sidebar" data-md-type="navigation">
      <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner md-post">
          <nav class="md-nav md-nav--primary">
            <div class="md-post__back">
              <div class="md-nav__title md-nav__container">
                <a href="../../../.." class="md-nav__link">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
                  <span class="md-ellipsis">
                    Back to index
                  </span>
                </a>
              </div>
            </div>
            
              <div class="md-post__authors md-typeset">
                
                  <div class="md-profile md-post__profile">
                    <span class="md-author md-author--long">
                      <img src="https://avatars.githubusercontent.com/u/620876?v=4" alt="Kenneth Hoste">
                    </span>
                    <span class="md-profile__description">
                      <strong>
                        
                          Kenneth Hoste
                        
                      </strong>
                      <br>
                      HPC-UGent
                    </span>
                  </div>
                
              </div>
            
            <ul class="md-post__meta md-nav__list">
              <li class="md-nav__item md-nav__item--section">
                <div class="md-post__title">
                  <span class="md-ellipsis">
                    Metadata
                  </span>
                </div>
                <nav class="md-nav">
                  <ul class="md-nav__list">
                    <li class="md-nav__item">
                      <div class="md-nav__link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg>
                        <time datetime="2025-05-27 00:00:00+00:00" class="md-ellipsis">May 27, 2025</time>
                      </div>
                    </li>
                    
                    
                    
                      
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"/></svg>
                          <span class="md-ellipsis">
                            
                              6 min read
                            
                          </span>
                        </div>
                      </li>
                    
                  </ul>
                </nav>
              </li>
            </ul>
            
          </nav>
          
        </div>
      </div>
    </div>
    <article class="md-content__inner md-typeset">
      
        
  




<h1 id="easybuild-v510">EasyBuild v5.1.0</h1>
<p>EasyBuild v5.1.0 was released on 26 May 2025.</p>
<p>This version includes a couple of changes and enhancements we want to briefly highlight in this blog post.</p>
<p>For a detailed overview of all changes included in EasyBuild v5.1.0, <a href="https://docs.easybuild.io/release-notes/#release_notes_eb510">see the release notes</a>.</p>
<!-- more -->

<hr />
<h2 id="build-summary">Build summary</h2>
<p>EasyBuild v5.1.0 will print a summary of the installations that were planned for a particular session,
and indicate whether each installation was a <em>success</em>, which ones <em>failed</em>, and which installations were <em>skipped</em>
(for example because a required dependency failed to install).</p>
<p>For example:</p>
<pre><code>$ eb matplotlib-3.9.2-gfbf-2024a.eb -r
...
== Build succeeded for 2 out of 4
== Summary:
   * [SUCCESS] Python/3.12.3-GCCcore-13.3.0
   * [SUCCESS] SciPy-bundle/2024.05-gfbf-2024a
   * [FAILED]  libpng/1.6.43-GCCcore-13.3.0
   * [SKIPPED] matplotlib/3.9.2-gfbf-2024a
</code></pre>
<p>With this summary you can more easily assess the overall result of the EasyBuild session, and quickly focus on the failing installations. </p>
<hr />
<h2 id="cuda-sanity-check">CUDA sanity check</h2>
<p>Starting with EasyBuild v5.1.0, additional checks are being done during the sanity check step
for installations in which CUDA is used as a dependency.</p>
<p>Binaries, libraries, and compiled Python modules are inspected by EasyBuild using the
<a href="https://docs.nvidia.com/cuda/cuda-binary-utilities/index.html"><code>cuobjdump</code> binary utility</a>
that comes with the CUDA SDK, to determine whether they have the expected <em>device and/or PTX code</em>.</p>
<p>CUDA device code is a binary file format for executables that can be run on NVIDIA GPUs.</p>
<p>PTX is an intermediate binary format for NVIDIA GPUs, which can be <a href="https://docs.nvidia.com/cuda/cuda-compiler-driver-nvcc/#just-in-time-compilation">Just-In-Time (JiT) compiled</a>
to run on a specific NVIDIA GPU.</p>
<p>In short: EasyBuild verifies in the CUDA sanity check to what extent the hardware targets supported by the binaries,
libraries, and compiled Python modules correspond with the CUDA compute capabilities that EasyBuild was configured
to use (see the <code>cuda-compute-capabilities</code> configuration setting, and the <code>cuda_compute_capabilities</code> easyconfig parameter).</p>
<p>Various related configuration settings are supported since EasyBuild v5.1.0, which all start with <code>cuda-sanity-check</code>.
They specify how strict EasyBuild should be when performing the CUDA sanity check:</p>
<ul>
<li>Does PTX code <em>need</em> to be available? (<code>cuda-sanity-check-accept-missing-ptx</code>, disabled by default);</li>
<li>Is device code for the specified CUDA compute capabilities required, or is equivalent PTX code sufficient?
  (<code>cuda-sanity-check-accept-ptx-as-devcode</code>, disabled by default);</li>
<li>Is device code for additional CUDA compute capabilities allowed? (<code>cuda-sanity-check-strict</code>, disabled by default)</li>
</ul>
<p>For now, EasyBuild will by default only print and/or log warnings when the specified conditions are not met,
unless the <code>cuda-sanity-check-error-on-failed-checks</code> configuration setting is enabled.</p>
<p>For installations in which CUDA is used as a (direct) dependency,
the trace output for the sanity check step will include a brief summary like:</p>
<pre><code>  &gt;&gt; CUDA sanity check summary report:
  &gt;&gt; Number of CUDA files checked: 7
  &gt;&gt; Number of files missing one or more CUDA Compute Capabilities: 2
  &gt;&gt; (not running with --cuda-sanity-check-error-on-failed-checks, so not considered failures)
  &gt;&gt; Number of files with device code for more CUDA Compute Capabilities than requested: 3
  &gt;&gt; (not running with --cuda-sanity-check-error-on-failed-checks, so not considered failures)
  &gt;&gt; Number of files missing PTX code for the highest configured CUDA Compute Capability: 5
  &gt;&gt; (not running with --cuda-sanity-check-error-on-failed-checks, so not considered failures)
  &gt;&gt; You may consider rerunning with --cuda-sanity-check-accept-ptx-as-devcode to accept suitable PTX code instead of device code.
  &gt;&gt; You may consider running with --cuda-sanity-check-accept-missing-ptx to accept binaries missing PTX code for the highest configured CUDA Compute Capability.
  &gt;&gt; See build log for detailed lists of files not passing the CUDA Sanity Check
</code></pre>
<p>For in-depth details on this, see the changes that were made in <a href="https://github.com/easybuilders/easybuild-framework/pull/4692/files"><code>easybuild-framework</code> PR #4692</a>.</p>
<hr />
<h2 id="data-installations">Data installations</h2>
<p>EasyBuild v5.1.0 adds support for installing datasets as modules.</p>
<p>Sam Moors (VUB) gave a talk about this idea at EUM'24 (see <a href="https://users.ugent.be/~kehoste/eum24/019_eum24_datasets.pdf">slides</a> + <a href="https://www.youtube.com/watch?v=13q_aKDDv9k&amp;list=PLhnGtSmEGEQild9FmlP8Qmz9Csc_gOJKF&amp;index=20&amp;pp=gAQBiAQB">recording</a>).</p>
<p>Datasets get special treatment in terms of where they are installed, and how their "source" files are managed.</p>
<p>For more information, see <a href="https://docs.easybuild.io/datasets">https://docs.easybuild.io/datasets</a>.</p>
<hr />
<h2 id="downloading-pull-request-diff-via-github-api">Downloading pull request diff via GitHub API</h2>
<p>The mechanism for determining the files that were changed in a pull request when <code>--from-pr</code> or
<code>--include-easyblocks-from-pr</code> is used has been changed in EasyBuild v5.1.0, to use the GitHub API rather than downloading a <code>*.diff</code>
file from <code>https://github.com</code>.</p>
<p>This was done to mitigate the impact of <a href="https://github.blog/changelog/2025-05-08-updated-rate-limits-for-unauthenticated-requests/">changes made by GitHub to impose stricter rate
limits</a>
for the GitHub web interface, which can quickly lead to an HTTP error when downloading too frequently:</p>
<pre><code>HTTP Error 429: Too Many Requests
</code></pre>
<p>For more details, see <a href="https://github.com/easybuilders/easybuild-framework/issues/4869">framework issue #4869</a> and <a href="https://github.com/easybuilders/easybuild-framework/pull/4878">framework PR #4878</a>.</p>
<hr />
<h2 id="cleaner-output-for-sanity-check">Cleaner output for sanity check</h2>
<p>The output produced by the sanity check step has been cleaned up in EasyBuild v5.1.0,
by replacing the standard (noisy) trace output for commands executed during the sanity check with a one-line message.</p>
<p>The output for the "import" tests that are run for every extension that is being installed is now a lot cleaner.
It used to be multiple lines with way too much detail for each extension:</p>
<pre><code>&gt;&gt; running shell command:
      /software/Python/3.12.3-GCCcore-13.3.0/bin/python -c &quot;import matplotlib&quot;
      [started at: 2025-05-23 09:15:19]
      [working dir: /software/matplotlib/3.9.2-gfbf-2024a]
      [output and state saved to /tmp/eb-sec1umjh/run-shell-cmd-output/python-d3adb33f]
&gt;&gt; command completed: exit 0, ran in &lt; 1s
</code></pre>
<p>It now is just a single line per extension:</p>
<pre><code>&gt;&gt; Extension sanity check command '/software/Python/3.12.3-GCCcore-13.3.0/bin/python -c &quot;import matplotlib&quot;': OK
</code></pre>
<p>Likewise for the <code>pip check</code> command that is run in the sanity check step when Python packages are being installed.
This used to result in output like:</p>
<pre><code>== sanity checking...
  &gt;&gt; running shell command:
        python -m pip check
        [started at: 2025-05-23 10:26:11]
        [working dir: /tmp/easybuild/Python/3.13.1/GCCcore-14.2.0]
        [output and state saved to /tmp/eb-d_ec_z2f/run-shell-cmd-output/python-d3adb33f]
  &gt;&gt; command completed: exit 0, ran in &lt; 1s
</code></pre>
<p>Now, it's a lot shorter:</p>
<pre><code>== sanity checking...
  &gt;&gt; Check on requirements for installed Python packages with 'pip check': OK
</code></pre>
<hr />
<h2 id="2025a-common-toolchains">2025a common toolchains</h2>
<p>Easyconfig files for the <code>2025a</code> update of the common toolchains <code>foss</code> and <code>intel</code> are included with EasyBuild v5.1.0.</p>
<p>Note that the <code>2024b</code> version of the common toolchains was skipped, mostly due to focusing on releasing EasyBuild
v5.0.0 in the period in which the <code>2024b</code> update of the common toolchains was supposed to be defined.</p>
<p>For more details, see the <a href="https://docs.easybuild.io/common-toolchains/#common_toolchains_overview">overview of common toolchains</a>.</p>
<hr />
<h2 id="notable-bug-fixes">Notable bug fixes</h2>
<p>Beyond the highlights covered above, there are a couple of small bug fixes included in EasyBuild
v5.1.0:</p>
<ul>
<li>The <code>pip check</code> command is now executed only <em>once</em> in the sanity check for an installation that involves Python packages, which makes sense since this is a global check (not for a specific Python package).</li>
<li>Earlier versions of EasyBuild included a silly bug that could lead to messages like "<code>Fetching files: 100% (4/3)</code>" being shown in
  the download progress bar. This silly problem has been resolved in EasyBuild v5.1.0.</li>
<li>Since EasyBuild v5.0.0, the path to the <code>lib</code> subdirectory of a software installation directory was being added to the <code>$CMAKE_LIBRARY_PATH</code> environment variable in environment module files generated
  by EasyBuild, while this was not the intention. This bug has been squashed in EasyBuild v5.1.0.</li>
<li>The <code>--ignore-test-failure</code> EasyBuild configuration setting was partially broken since EasyBuild v5.0.0: errors that
  were raised during the test step were not actually being ignored. This rendered <code>--ignore-test-failure</code> useless for
  ignoring a handful of failing tests when installing PyTorch, for example.
  This regression was fixed in EasyBuild v5.1.0.</li>
<li>Several small issues have been fixed in the custom easyblock for LLVM, which was thoroughly revised in EasyBuild
  v5.0.0.</li>
</ul>







  
  




  



      
    </article>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>